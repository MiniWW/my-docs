---
cover: /assets/images/cover2.jpg
icon: pen-to-square
date: 2024-05-05
category:
  - Java基础
tag:
  - 红
  - 圆
star: true
sticky: true
---
# 4.Object

## Object类是什么（what）
- 所有类的父类

## Object有哪些常用方法？（what)
`Object` 类是 Java 中所有类的根类，它包含了一些常用的方法，这些方法可以被所有类继承并使用。下面是 `Object` 类中一些常用方法：

1. `equals(Object obj)`：用于比较对象是否相等。默认情况下，该方法比较的是对象的内存地址，即判断两个对象是否指向同一块内存空间。但通常需要在子类中重写该方法，根据对象的内容进行相等性比较。

2. `hashCode()`：返回对象的哈希码。哈希码是一个 `int` 类型的整数值，用于支持对象在散列集合中的存储和检索。默认情况下，`hashCode()` 方法返回对象的内存地址的哈希码，但通常需要根据对象的内容重写该方法。

3. `toString()`：返回对象的字符串表示。默认情况下，`toString()` 方法返回对象的类名，后跟 "@" 符号和对象的哈希码。但通常需要在子类中重写该方法，以提供更有意义的字符串表示。

4. `getClass()`：返回对象的运行时类。该方法返回一个 `Class` 对象，表示对象所属的类。


## ==和equals的区别
- ==比较的是值，不管是基本数据类型还是对象类型，本质比较的都是值（因为Java只有值传递）
- 区别在于：
- 对于基本数据类型来说，==比较的是值
- 对于对象类型来说，比较的是对象的内存地址

- equals只能用于对象类型，不呢用于基本数据类型
- equals方法有两种情况
  - 如何类没有重写equals方法，用equals比较对象时，等价于用的是“==”比较两个对象
  - 如果重写了，则比较两个对象的属性是否相等
    - 特例：  `string`重写过equals方法
    - **String** 中的 equals 方法是被重写过的，因为 Object 的 equals 方法是比较的对象的内存地址，而 String 的 equals 方法比较的是对象的值
    **String**后续再说
        

## hashCode是什么（what）
`hashCode()` 是 Java 中 `Object` 类的一个方法，通常是返回对象在三列集合（hashMap和HashSet）中的索引和位置
### hashcode如何（根据什么）返回对象的哈希值？（how)
哈希码是根据对象的内存地址或对象的内容（字段值）计算得出的一个整数值，用于在哈希表等数据结构中快速定位对象。


`hashCode()` 方法的默认实现是返回对象的内存地址的哈希码。但是，根据实际情况，我们也可以重写 `hashCode()` 方法，使其根据对象的内容（字段值）计算哈希码，以确保相等的对象具有相等的哈希码。


### 为什么重写equals要重写hashCode方法？
确保相等的对象具有相等的哈希码，并且哈希码相等的对象不一定相等。

### 为什么哈希码相等的对象不一定相等
这是因为哈希冲突的存在，即不同的对象具有相同的哈希码。

## 为什么要有Hashcode？
- 先说结论哈，可以提高执行速度
- 以一个HashSet检查重复为例子
- Hashset对新加入的对象，会先计算对象的哈希码，然后查看hashSet这个哈希码的位置是否已经有对象存在，如果没有，说明没有重复的对象，然后就可以加入，如果有
- 会调用equals方法来检查是否对象真的相同
  - 如果这两个对象真的相同，那么就不会加入成功，如果不同，那么就重新计算哈希值
- 这样我们就减少了很多equals的次数

## hashcode和equals方法的关系？
- equals返回true，那么两个对象的hashcode得到的值是一样的
- 如果两个对象的调用hashcode得到的是一样的，但是equals方法不一定相等

